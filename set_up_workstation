Install VirtualBox which is the default VM engine for Vagrant - and Vagrant itself.

    # apt-get install virtualbox
    # apt-get install vagrant

Add a Vagrant box image for Ubuntu 14.04 - or use another relevant Vagrant box image.

    $ vagrant box add ubuntu/trusty64

Create space for the VM to live.

    $ mkdir -p vagrant_machines/vm1/vm

Now create a Vagrant file which will use the ubuntu/trusty64 box.

    $ cd vagrant_machines/vm1/vm
    $ vagrant init ubuntu/trusty64

Next edit the Vagrant file which was created.  Mainly:

    config.vm.hostname = "thing.example.com"
    config.vm.network "public_network"
    
    config.vm.provider "virtualbox" do |vb|
        #   # Display the VirtualBox GUI when booting the machine                                        
        #   vb.gui = true                                                                                
        #                                                                                                
        #   # Customize the amount of memory on the VM:                                                  
        vb.memory = "3072"
    end

    # This will add in packges which do not need user interaction.
    config.vm.provision "shell", inline: <<-SHELL                                                    
      sudo apt-get update                                                                            
      sudo apt-get -y dist-upgrade                                                                   
      sudo apt-get -y install apache2 php5                                                           
      sudo a2enmod rewrite                                                                           
      sudo apt-get -y install php5-intl php5-curl php5-gd php5-mcrypt php5-cli php5-xdebug           
      sudo service apache2 restart                                                                   
      sudo apt-get -y install mc emacs git locate                                                    
    SHELL 

Finish setting up the vagrant machine by runnning a script which installs packages directly on the VM which needs user interaction.

    #!/bin/bash

    # The next two lines may be needed to prevent bug when installing apache2-mpm-itk.  Currently
    # it seems that the restart may be all that is needed.
    #a2dismod mpm-event
    #a2enmod mpm-prefork
    service apache2 restart
    apt-get -y install apache2-mpm-itk

    apt-get -y install mysql-server php5-mysql
    apt-get -y install phpmyadmin



